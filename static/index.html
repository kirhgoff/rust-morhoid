<html>
<head>
    <title>morphoid</title>
    <script>
      function reset() {
        fetch("/reset");

        setTimeout(render, 50);

      }

      function render() {
        fetch("/world")
          .then(function(response) {
            return response.text();
          })
          .then(function(data){
            console.log(data);
            document.getElementById("display").innerText = data;
          })
          .catch(function(error) {
            console.log(error)
          });

        setTimeout(render, 100);
      }
      document.addEventListener("DOMContentLoaded", function(event) {
        setTimeout(reset, 800);
      });
    </script>
    <style>
        body {
            font-family: Courier New, Courier, serif;
            font-size: 32px
        }
        #display {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: solid black 1px;
        }
        .legend {
            text-align: center;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <pre id="display">Initializing world...</pre>
    <pre class="legend">[*] reproducer [+] corpse [o] plant [x] predator [@] defiler [.] weirdo </pre>
</body>
</html>